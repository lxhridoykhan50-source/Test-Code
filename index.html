<!DOCTYPE html>
<html lang="bn">
<head>
<meta charset="UTF-8">
<title>Ads Income Place</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<script src="https://telegram.org/js/telegram-web-app.js"></script>
<script src="//libtl.com/sdk.js" data-zone="9777736" data-sdk="show_9777736"></script>

<style>
*{margin:0;padding:0;box-sizing:border-box;}
body{font-family:'Segoe UI',sans-serif;background:linear-gradient(135deg,#4f46e5,#9333ea);min-height:100vh;display:flex;justify-content:center;align-items:flex-start;padding:40px 20px;color:#fff;}
.container{width:100%;max-width:420px;display:flex;flex-direction:column;gap:20px;}
h2{text-align:center;font-size:28px;font-weight:700;margin-bottom:5px;}
.card{backdrop-filter:blur(16px) saturate(180%);-webkit-backdrop-filter:blur(16px) saturate(180%);background:rgba(255,255,255,0.12);border-radius:20px;padding:25px;box-shadow:0 8px 32px rgba(0,0,0,0.25);transition: transform 0.25s ease;}
.card:hover{transform:translateY(-4px);}
.profile{display:flex;flex-direction:column;align-items:center;gap:12px;}
.profile img{width:80px;height:80px;border-radius:50%;border:3px solid #fff;}
.user-name{font-size:20px;font-weight:600;display:flex;align-items:center;gap:6px;}
.verify-icon{color:#00bfff;font-size:18px;}
.premium-icon{color:gold;font-size:18px;}
.info{font-size:15px;margin-top:4px;}
.btn{width:100%;padding:14px;border-radius:12px;border:none;font-size:16px;font-weight:600;cursor:pointer;margin-top:10px;color:#fff;background:linear-gradient(90deg,#7c3aed,#4f46e5);transition:all 0.3s ease;}
.btn:hover{transform:scale(1.03);}
.btn:active{transform:scale(0.98);}
.back-btn{background:linear-gradient(90deg,#374151,#111827);}
#countdown{margin-top:12px;font-size:14px;font-weight:bold;color:#ffeb3b;}
input,select{width:100%;padding:12px;margin:10px 0;border-radius:10px;border:none;outline:none;font-size:15px;}
.hidden{display:none;}
.muted{opacity:0.6;pointer-events:none;}
#noticeOverlay{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.65);display:none;justify-content:center;align-items:center;z-index:9999;}
.notice-card{background:#fff;color:#111;width:90%;max-width:380px;padding:25px 20px 30px;border-radius:16px;text-align:center;position:relative;box-shadow:0 8px 25px rgba(0,0,0,0.25);}
.notice-card p{font-size:16px;color:#333;margin-bottom:20px;line-height:1.5;}
.close-btn{position:absolute;top:10px;right:12px;font-size:20px;font-weight:bold;color:#666;cursor:pointer;}
.close-btn:hover{color:#000;}
</style>
</head>
<body>
<div class="container">
<h2>üé• ADS INCOME PLACE</h2>

<!-- Profile Card -->
<div class="card" id="profile">
<div class="profile">
<img id="user-photo" src="https://telegram.org/img/t_logo.png" alt="Profile">
<div class="user-name"><span class="verify-icon">‚úîÔ∏è</span><span id="user-name">Loading...</span><span class="premium-icon">‚≠ê</span></div>
<div class="info"><b>Balance:</b> <span id="balance">0</span> BDT</div>
<div class="info"><b>Ads Watched:</b> <span id="views">0</span></div>
<div class="info"><b>Referrals:</b> <span id="refCount">0</span></div>
<div class="info"><b>Total Withdrawn:</b> <span id="totalWithdrawn">0</span> BDT</div>
</div>
</div>

<!-- Ad Section -->
<div class="card" id="ad-section">
<button class="btn" id="watchBtn" onclick="watchAd()">üé¨ Watch Ad</button>
<p id="countdown"></p>
</div>

<!-- Withdraw/Referral Main -->
<div class="card">
<button class="btn" onclick="showWithdraw()">üí∏ Withdraw</button>
<button class="btn" onclick="showReferral()">ü§ù Refer</button>
</div>

<!-- Withdraw Section -->
<div class="card hidden" id="withdraw-section">
<h3>Withdraw Balance</h3>
<select id="method">
<option value="bkash">Bkash</option>
<option value="nagad">Nagad</option>
</select>
<input type="number" id="balanceAmount" placeholder="Enter Amount" oninput="calculateBDT()">
<p id="bdtValue">You will get: 0 BDT</p>
<p style="color:#ffeb3b;font-size:13px;">‚ö†Ô∏è Minimum Withdraw: 100 BDT</p>
<input type="text" id="accountNumber" placeholder="Enter your account number">
<button class="btn" onclick="submitWithdraw()">Submit</button>
<button class="btn back-btn" onclick="goBack()">üîô Back</button>
</div>

<!-- Referral Section -->
<div class="card hidden" id="referral-section">
<h3>Your Referral Link</h3>
<p id="refLink">https://t.me/ads25_income_bot?start=ref</p>
<button class="btn" onclick="copyReferral()">‚òï Copy</button>

<!-- Claim Bonus -->
<div style="margin-top:15px;">
<h4>Claim Bonus Using Referral Code</h4>
<input type="text" id="claimCode" placeholder="Enter referral code">
<button class="btn" onclick="claimReferralBonus()">Claim Bonus</button>
</div>

<button class="btn back-btn" onclick="goBack()">üîô Back</button>
</div>
</div>

<audio id="coinSound"><source src="https://assets.mixkit.co/active_storage/sfx/2000/2000-preview.mp3" type="audio/mpeg"></audio>

<div id="noticeOverlay">
<div class="notice-card">
<span class="close-btn" onclick="closeNotice()">‚úñ</span>
<p>‡¶Ü‡¶∏‡¶∏‡¶æ‡¶≤‡¶æ‡¶Æ‡ßÅ ‡¶Ü‡¶≤‡¶æ‡¶á‡¶ï‡ßÅ‡¶Æ ‡¶™‡ßç‡¶∞‡¶ø‡¶Ø‡¶º ‡¶ó‡ßç‡¶∞‡¶æ‡¶π‡¶ï ‡¶∏‡¶¨‡¶æ‡¶á ‡¶ï‡ßá‡¶Æ‡¶® ‡¶Ü‡¶õ‡ßá‡¶® ‡¶Ü‡¶∂‡¶æ ‡¶ï‡¶∞‡¶ø ‡¶∏‡¶¨‡¶æ‡¶á ‡¶Ü‡¶≤‡ßç‡¶≤‡¶æ‡¶π‡¶∞ ‡¶∞‡¶π‡¶Æ‡¶§‡ßá ‡¶≠‡¶æ‡¶≤‡ßã ‡¶Ü‡¶õ‡ßá‡¶®‡•§<br>‡¶Ü‡¶Æ‡¶æ‡¶¶‡ßá‡¶∞ ‡¶∏‡¶Æ‡ßç‡¶™‡ßÇ‡¶∞‡ßç‡¶£ ‡¶∏‡ßá‡¶¨‡¶æ ‡¶ó‡ßç‡¶∞‡¶π‡¶£ ‡¶ï‡¶∞‡¶§‡ßá ‡¶Ü‡¶™‡¶®‡¶æ‡¶ï‡ßá ‡¶Ö‡¶¨‡¶∂‡ßç‡¶Ø‡¶á ‡¶è‡¶á ‡¶ü‡ßá‡¶≤‡¶ø‡¶ó‡ßç‡¶∞‡¶æ‡¶Æ ‡¶ö‡ßç‡¶Ø‡¶æ‡¶®‡ßá‡¶≤‡ßá ‡¶ú‡¶Ø‡¶º‡ßá‡¶® ‡¶ï‡¶∞‡¶§‡ßá ‡¶π‡¶¨‡ßá‡•§</p>
<a href="https://t.me/+dSMh9u-1PIg0Njk1" class="btn" target="_blank">Join Channel</a>
</div>
</div>

<script>
const tg = (window.Telegram && window.Telegram.WebApp)?window.Telegram.WebApp:null;
if(tg && typeof tg.expand==="function"){ try{ tg.expand(); }catch(e){console.log(e);} }
const userName = tg?.initDataUnsafe?.user?.first_name || "Unknown";
const userId = tg?.initDataUnsafe?.user?.id || "unknown_user";
const photoUrl = tg?.initDataUnsafe?.user?.photo_url || "https://telegram.org/img/t_logo.png";
document.getElementById("user-name").innerText = userName;
document.getElementById("user-photo").src = photoUrl;

// Reward Settings
const REWARD = 0.05;
const MIN_WITHDRAW = 100;
const REF_BONUS = 5;

// State
let balance = parseFloat(localStorage.getItem("balance")) || 0;
let views = parseInt(localStorage.getItem("views")) || 0;
let refCount = parseInt(localStorage.getItem("refCount")) || 0;
let totalWithdrawn = parseFloat(localStorage.getItem("totalWithdrawn")) || 0;
let claimedReferrals = JSON.parse(localStorage.getItem("claimedReferrals"))||[];

function updateUI(){
document.getElementById("balance").innerText = balance.toFixed(2);
document.getElementById("views").innerText = views;
document.getElementById("refCount").innerText = refCount;
document.getElementById("totalWithdrawn").innerText = totalWithdrawn.toFixed(2);
}

function saveData(){
localStorage.setItem("balance", balance.toFixed(2));
localStorage.setItem("views", views);
localStorage.setItem("refCount", refCount);
localStorage.setItem("totalWithdrawn", totalWithdrawn.toFixed(2));
localStorage.setItem("claimedReferrals", JSON.stringify(claimedReferrals));
}

function tryShowAd(){ if(typeof window.show_9777736==="function"){ try{ window.show_9777736(); }catch(e){console.log(e);} } }

const AD_DURATION = 15;
let adTimer = null;

function watchAd(){
const watchBtn=document.getElementById('watchBtn');
const countdownEl=document.getElementById('countdown');
watchBtn.disabled=true; watchBtn.classList.add('muted');
countdownEl.innerText=`‚è≥ Please wait ${AD_DURATION} seconds...`;
tryShowAd();
let remaining=AD_DURATION;
adTimer=setInterval(()=>{
remaining--;
countdownEl.innerText=`‚è≥ Please wait ${remaining} seconds...`;
if(remaining<=0){
clearInterval(adTimer);
balance+=REWARD; views++;
saveData(); updateUI();
countdownEl.innerText=`üéâ You earned ${REWARD.toFixed(2)} BDT!`;
document.getElementById('coinSound').play().catch(()=>{});
watchBtn.disabled=false; watchBtn.classList.remove('muted');
}
},1000);
}

function showWithdraw(){document.getElementById("withdraw-section").classList.remove("hidden");document.getElementById("ad-section").classList.add("hidden");document.getElementById("referral-section").classList.add("hidden");}
function calculateBDT(){const amount=parseFloat(document.getElementById("balanceAmount").value)||0;document.getElementById("bdtValue").innerText=`You will get: ${amount.toFixed(2)} BDT`;}
function submitWithdraw(){
const method=document.getElementById("method").value;
const amount=parseFloat(document.getElementById("balanceAmount").value);
const account=document.getElementById("accountNumber").value.trim();
if(isNaN(amount)||amount<MIN_WITHDRAW){ alert(`Minimum withdraw is ${MIN_WITHDRAW} BDT.`); return;}
if(!account||account.length<6){ alert("Please enter a valid account number."); return;}
if(amount>balance){ alert("You don't have enough balance."); return;}
balance -= amount; 
totalWithdrawn += amount;
saveData(); updateUI();
document.getElementById("withdraw-section").innerHTML=`
<h3>‚úÖ Withdraw request submitted!</h3>
<p>Method: ${method.toUpperCase()}</p>
<p>Amount: ${amount.toFixed(2)} BDT</p>
<p>Account Number: ${account}</p>
<p>We will process your request soon.</p>
<button class="btn back-btn" onclick="goBack()">üîô Back</button>
`;
}

function showReferral(){
document.getElementById("referral-section").classList.remove("hidden");
document.getElementById("withdraw-section").classList.add("hidden");
document.getElementById("ad-section").classList.add("hidden");
document.getElementById("refLink").innerText=`https://t.me/ads25_income_bot?start=${userId}`;
}
function copyReferral(){const ref=document.getElementById("refLink").innerText;if(navigator.clipboard&&navigator.clipboard.writeText){navigator.clipboard.writeText(ref).then(()=>alert("Referral link copied!")).catch(()=>fallbackCopy(ref));}else fallbackCopy(ref);function fallbackCopy(text){const ta=document.createElement('textarea');ta.value=text;document.body.appendChild(ta);ta.select();try{document.execCommand('copy');alert('Referral link copied!');}catch(e){alert('Copy failed.');}ta.remove();}}

function claimReferralBonus(){
const code=document.getElementById("claimCode").value.trim();
if(!code){alert("Please enter referral code."); return;}
if(code==userId){alert("You cannot use your own referral code."); return;}
if(claimedReferrals.includes(code)){alert("You already claimed bonus from this code."); return;}
balance+=REF_BONUS; 
refCount++;
claimedReferrals.push(code); 
saveData(); updateUI();
alert(`üéâ Bonus ${REF_BONUS} BDT added to your balance!`);
}

function goBack(){document.getElementById("withdraw-section").classList.add("hidden");document.getElementById("referral-section").classList.add("hidden");document.getElementById("ad-section").classList.remove("hidden");updateUI();}
updateUI();

// Notice Popup
function showNotice(){document.getElementById("noticeOverlay").style.display="flex";}
function closeNotice(){document.getElementById("noticeOverlay").style.display="none";}
window.onload=function(){setTimeout(showNotice,2000);}
</script>
</body>
</html>
